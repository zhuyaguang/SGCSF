# SGCSF æ–‡ä»¶ä¼ è¾“æ¼”ç¤º

æœ¬æ¼”ç¤ºå±•ç¤ºSGCSFæ¡†æ¶åœ¨å«æ˜Ÿæ˜Ÿåº§ä¸­çš„æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½åŠŸèƒ½ï¼Œé‡ç‚¹æ¼”ç¤ºç¦»çº¿åœºæ™¯ä¸‹çš„å¯é æ–‡ä»¶ä¼ è¾“ã€‚

## åœºæ™¯è®¾è®¡

### å«æ˜Ÿæ˜Ÿåº§é…ç½®
- **æ€»è®¡**: 12é¢—å«æ˜Ÿ
- **å«æ˜Ÿ1 (sat-01)**: 3ä¸ªèŠ‚ç‚¹ (node-1, node-2, node-3)
- **å«æ˜Ÿ2 (sat-02)**: 3ä¸ªèŠ‚ç‚¹ (node-1, node-2, node-3)  
- **å«æ˜Ÿ3-12**: æ¯é¢—1ä¸ªèŠ‚ç‚¹ (node-1)

### éƒ¨ç½²æ¶æ„
- **åœ°é¢**: 1ä¸ª Ground File Manager (æ–‡ä»¶ç®¡ç†å™¨)
- **å«æ˜Ÿ**: æ¯ä¸ªèŠ‚ç‚¹1ä¸ª Satellite File Agent (DaemonSetæ¨¡å¼)
- **é€šä¿¡**: é€šè¿‡SGCSFè¿›è¡Œå¯é çš„æ˜Ÿåœ°æ–‡ä»¶ä¼ è¾“

### ç¦»çº¿æ¨¡æ‹Ÿ
- **ç¦»çº¿ç‡**: å«æ˜Ÿå¤§éƒ¨åˆ†æ—¶é—´(80%)å¤„äºç¦»çº¿çŠ¶æ€
- **åœ¨çº¿çª—å£**: æ¯é¢—å«æ˜Ÿéšæœº2-5åˆ†é’Ÿåœ¨çº¿ï¼Œç„¶åç¦»çº¿8-15åˆ†é’Ÿ
- **é€šä¿¡å»¶è¿Ÿ**: 200-800ms(æ¨¡æ‹ŸçœŸå®æ˜Ÿåœ°è·ç¦»)

## æ¶æ„å›¾

```
åœ°é¢æ§åˆ¶ä¸­å¿ƒ                          å«æ˜Ÿæ˜Ÿåº§ (DaemonSetéƒ¨ç½²)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ground File Manager     â”‚          â”‚ Satellite File Agents  â”‚
â”‚                         â”‚          â”‚                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚ sat-01:                 â”‚
â”‚ â”‚ â€¢ æ–‡ä»¶ä¸Šä¼ ç®¡ç†       â”‚ â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ â”œâ”€ node-1 (agent)       â”‚
â”‚ â”‚ â€¢ æ–‡ä»¶ä¸‹è½½ç®¡ç†       â”‚ â”‚          â”‚ â”œâ”€ node-2 (agent)       â”‚
â”‚ â”‚ â€¢ ä¼ è¾“è¿›åº¦ç›‘æ§       â”‚ â”‚   SGCSF  â”‚ â””â”€ node-3 (agent)       â”‚
â”‚ â”‚ â€¢ ç¦»çº¿ä»»åŠ¡é˜Ÿåˆ—       â”‚ â”‚          â”‚                         â”‚
â”‚ â”‚ â€¢ Webç®¡ç†ç•Œé¢        â”‚ â”‚          â”‚ sat-02:                 â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚ â”œâ”€ node-1 (agent)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚ â”œâ”€ node-2 (agent)       â”‚
                                     â”‚ â””â”€ node-3 (agent)       â”‚
                                     â”‚                         â”‚
                                     â”‚ sat-03~12:              â”‚
                                     â”‚ â””â”€ node-1 (agent each)  â”‚
                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## åŠŸèƒ½ç‰¹æ€§

### ğŸŒ åœ°é¢æ–‡ä»¶ç®¡ç†å™¨ (Ground File Manager)
- **æ–‡ä»¶ä¸Šä¼ **: é€‰æ‹©æœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°æŒ‡å®šå«æ˜ŸèŠ‚ç‚¹
- **æ–‡ä»¶ä¸‹è½½**: ä»æŒ‡å®šå«æ˜ŸèŠ‚ç‚¹ä¸‹è½½æ–‡ä»¶åˆ°æœ¬åœ°
- **æ‰¹é‡æ“ä½œ**: åŒæ—¶å‘å¤šä¸ªå«æ˜ŸèŠ‚ç‚¹å‘é€æ–‡ä»¶
- **è¿›åº¦ç›‘æ§**: å®æ—¶æ˜¾ç¤ºä¼ è¾“è¿›åº¦å’ŒçŠ¶æ€
- **ç¦»çº¿é˜Ÿåˆ—**: ç®¡ç†å«æ˜Ÿç¦»çº¿æœŸé—´çš„å¾…å¤„ç†ä»»åŠ¡
- **ä»»åŠ¡è°ƒåº¦**: æ™ºèƒ½è°ƒåº¦æ–‡ä»¶ä¼ è¾“ä»»åŠ¡
- **Webç•Œé¢**: ç›´è§‚çš„æ–‡ä»¶ç®¡ç†ç•Œé¢

### ğŸ›°ï¸ å«æ˜Ÿæ–‡ä»¶ä»£ç† (Satellite File Agent - DaemonSet)
- **æ–‡ä»¶æ¥æ”¶**: å¤„ç†æ¥è‡ªåœ°é¢çš„æ–‡ä»¶ä¸Šä¼ è¯·æ±‚
- **æ–‡ä»¶å‘é€**: å“åº”åœ°é¢çš„æ–‡ä»¶ä¸‹è½½è¯·æ±‚
- **ç¦»çº¿ç¼“å­˜**: å­˜å‚¨ç¦»çº¿æœŸé—´æ”¶åˆ°çš„æ–‡ä»¶æ“ä½œæŒ‡ä»¤
- **æ–­ç‚¹ç»­ä¼ **: æ”¯æŒå¤§æ–‡ä»¶çš„åˆ†ç‰‡ä¼ è¾“å’Œæ¢å¤
- **å­˜å‚¨ç®¡ç†**: ç®¡ç†æœ‰é™çš„å«æ˜Ÿå­˜å‚¨ç©ºé—´
- **çŠ¶æ€ä¸ŠæŠ¥**: å®šæœŸå‘åœ°é¢æ±‡æŠ¥èŠ‚ç‚¹çŠ¶æ€å’Œæ–‡ä»¶æ¸…å•

### ğŸ“¡ ä¼ è¾“ç‰¹æ€§
- **å¯é ä¼ è¾“**: åŸºäºSGCSFçš„æ¶ˆæ¯ç¡®è®¤å’Œé‡è¯•æœºåˆ¶
- **åˆ†ç‰‡ä¼ è¾“**: å¤§æ–‡ä»¶è‡ªåŠ¨åˆ†ç‰‡ï¼Œé€‚é…ç½‘ç»œé™åˆ¶
- **å‹ç¼©ä¼ è¾“**: è‡ªåŠ¨å‹ç¼©æ–‡ä»¶å‡å°‘ä¼ è¾“æ—¶é—´
- **å®Œæ•´æ€§æ ¡éªŒ**: MD5æ ¡éªŒç¡®ä¿æ–‡ä»¶å®Œæ•´æ€§
- **ç¦»çº¿å¤„ç†**: ç¦»çº¿æœŸé—´ä»»åŠ¡è‡ªåŠ¨æ’é˜Ÿï¼Œä¸Šçº¿åæ‰§è¡Œ

## å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨æ¼”ç¤º

```bash
cd test/file-transfer-demo
./run-demo.sh
```

æ¼”ç¤ºç³»ç»Ÿå°†è‡ªåŠ¨ï¼š
- åˆ›å»ºæµ‹è¯•æ•°æ®æ–‡ä»¶
- å¯åŠ¨åœ°é¢æ–‡ä»¶ç®¡ç†å™¨
- å¯åŠ¨æ‰€æœ‰å«æ˜Ÿæ–‡ä»¶ä»£ç†
- åˆ›å»ºWebç®¡ç†ç•Œé¢
- å¼€å§‹ç¦»çº¿åœºæ™¯æ¨¡æ‹Ÿ

### 2. è®¿é—®ç®¡ç†ç•Œé¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š
```
http://localhost:8082
```

### 3. å‘½ä»¤è¡Œäº¤äº’

å¯åŠ¨åå¯ä»¥ä½¿ç”¨äº¤äº’å¼å‘½ä»¤ï¼š

```bash
# æŸ¥çœ‹å¸®åŠ©
SGCSF> help

# æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€
SGCSF> status

# æŸ¥çœ‹å«æ˜ŸçŠ¶æ€
SGCSF> satellites

# ä¸Šä¼ æ–‡ä»¶
SGCSF> upload test-data/config.json sat-01 node-1

# ä¸‹è½½æ–‡ä»¶
SGCSF> download config.json sat-01 node-1

# å¼ºåˆ¶å«æ˜Ÿä¸Šçº¿/ç¦»çº¿ï¼ˆæµ‹è¯•ç”¨ï¼‰
SGCSF> online sat-01
SGCSF> offline sat-01

# æ§åˆ¶ç¦»çº¿æ¨¡æ‹Ÿå™¨
SGCSF> simulate start
SGCSF> simulate stop

# é€€å‡º
SGCSF> quit
```

### 4. HTTP API ä½¿ç”¨

```bash
# æŸ¥çœ‹å«æ˜ŸçŠ¶æ€
curl http://localhost:8082/api/satellites/status

# æŸ¥çœ‹ä¼ è¾“çŠ¶æ€
curl http://localhost:8082/api/transfers

# ä¸Šä¼ æ–‡ä»¶
curl -X POST http://localhost:8082/api/transfer/upload \
  -d "local_path=test-data/config.json&remote_path=config.json&satellite_id=sat-01&node_id=node-1"

# ä¸‹è½½æ–‡ä»¶
curl -X POST http://localhost:8082/api/transfer/download \
  -d "remote_path=config.json&satellite_id=sat-01&node_id=node-1"

# æ§åˆ¶å«æ˜ŸçŠ¶æ€
curl -X POST http://localhost:8082/api/satellites/sat-01/online
curl -X POST http://localhost:8082/api/satellites/sat-01/offline
```

## æµ‹è¯•åœºæ™¯

è¿è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•åœºæ™¯ï¼š

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•åœºæ™¯
./test-scenarios.sh

# è¿è¡Œå•ä¸ªåœºæ™¯
./test-scenarios.sh offline_upload
./test-scenarios.sh batch_transfer
./test-scenarios.sh network_interruption
./test-scenarios.sh bidirectional
./test-scenarios.sh multi_node
./test-scenarios.sh stress_test

# æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€
./test-scenarios.sh status

# æ¸…ç†æµ‹è¯•ç¯å¢ƒ
./test-scenarios.sh cleanup
```

### æµ‹è¯•åœºæ™¯è¯´æ˜

1. **ç¦»çº¿ä¸Šä¼ åœºæ™¯**: å‘ç¦»çº¿å«æ˜Ÿä¸Šä¼ æ–‡ä»¶ï¼ŒéªŒè¯ç¦»çº¿é˜Ÿåˆ—æœºåˆ¶
2. **æ‰¹é‡ä¼ è¾“åœºæ™¯**: åŒæ—¶å‘å¤šä¸ªç¦»çº¿å«æ˜Ÿä¼ è¾“ä¸åŒæ–‡ä»¶
3. **ç½‘ç»œä¸­æ–­æ¢å¤**: æ¨¡æ‹Ÿå¤§æ–‡ä»¶ä¼ è¾“è¿‡ç¨‹ä¸­çš„ç½‘ç»œä¸­æ–­å’Œæ¢å¤
4. **åŒå‘ä¼ è¾“åœºæ™¯**: å…ˆä¸Šä¼ æ–‡ä»¶ï¼Œå†ä¸‹è½½éªŒè¯å®Œæ•´æ€§
5. **å¤šèŠ‚ç‚¹åˆ†å‘**: å‘å¤šèŠ‚ç‚¹å«æ˜Ÿçš„ä¸åŒèŠ‚ç‚¹åˆ†å‘æ–‡ä»¶
6. **å‹åŠ›æµ‹è¯•**: å¹¶å‘ä¼ è¾“å¤šä¸ªæ–‡ä»¶æµ‹è¯•ç³»ç»Ÿæ€§èƒ½

## Kubernetes éƒ¨ç½²

### 1. éƒ¨ç½²åˆ° Kubernetes é›†ç¾¤

```bash
# åˆ›å»ºå‘½åç©ºé—´å’ŒåŸºç¡€é…ç½®
kubectl apply -f k8s/namespace.yaml

# åˆ›å»º RBAC
kubectl apply -f k8s/rbac.yaml

# éƒ¨ç½²åœ°é¢æ–‡ä»¶ç®¡ç†å™¨
kubectl apply -f k8s/ground-deployment.yaml

# éƒ¨ç½²å«æ˜Ÿæ–‡ä»¶ä»£ç† (DaemonSet)
kubectl apply -f k8s/satellite-daemonset.yaml

# éƒ¨ç½²ç›‘æ§é…ç½®
kubectl apply -f k8s/monitoring.yaml
```

### 2. èŠ‚ç‚¹æ ‡ç­¾é…ç½®

ä¸º Kubernetes èŠ‚ç‚¹æ·»åŠ é€‚å½“çš„æ ‡ç­¾ï¼š

```bash
# æ ‡è®°åœ°é¢ç«™èŠ‚ç‚¹
kubectl label nodes <ground-node> node-type=ground-station

# æ ‡è®°å«æ˜ŸèŠ‚ç‚¹
kubectl label nodes <satellite-node-1> node-type=satellite
kubectl label nodes <satellite-node-1> satellite-id=sat-01

# æ ‡è®°å¤šèŠ‚ç‚¹å«æ˜Ÿ
kubectl label nodes <multi-node-sat> satellite-type=multi-node
```

### 3. éªŒè¯éƒ¨ç½²

```bash
# æŸ¥çœ‹æ‰€æœ‰PodçŠ¶æ€
kubectl get pods -n sgcsf-file-transfer

# æŸ¥çœ‹DaemonSetçŠ¶æ€
kubectl get daemonset -n sgcsf-file-transfer

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
kubectl get services -n sgcsf-file-transfer

# æŸ¥çœ‹æ—¥å¿—
kubectl logs -n sgcsf-file-transfer deployment/ground-file-manager
kubectl logs -n sgcsf-file-transfer daemonset/satellite-file-agent
```

## ç›‘æ§å’Œå‘Šè­¦

### Prometheus æŒ‡æ ‡

ç³»ç»Ÿæš´éœ²ä»¥ä¸‹ Prometheus æŒ‡æ ‡ï¼š

- `sgcsf_file_transfers_total` - æ–‡ä»¶ä¼ è¾“æ€»æ•°
- `sgcsf_active_transfers` - æ´»è·ƒä¼ è¾“æ•°é‡
- `sgcsf_queued_transfers` - é˜Ÿåˆ—ä¸­çš„ä¼ è¾“æ•°é‡
- `sgcsf_satellite_status` - å«æ˜Ÿåœ¨çº¿çŠ¶æ€
- `sgcsf_storage_used_bytes` - å­˜å‚¨ä½¿ç”¨å­—èŠ‚æ•°
- `sgcsf_storage_total_bytes` - å­˜å‚¨æ€»å­—èŠ‚æ•°
- `sgcsf_bytes_transferred_total` - ä¼ è¾“å­—èŠ‚æ€»æ•°
- `sgcsf_transfer_errors_total` - ä¼ è¾“é”™è¯¯æ€»æ•°
- `sgcsf_transfer_duration_seconds` - ä¼ è¾“æŒç»­æ—¶é—´

### Grafana ä»ªè¡¨æ¿

å¯¼å…¥æä¾›çš„ Grafana ä»ªè¡¨æ¿é…ç½®ï¼š

```bash
kubectl apply -f k8s/monitoring.yaml
```

### å‘Šè­¦è§„åˆ™

ç³»ç»ŸåŒ…å«ä»¥ä¸‹é¢„å®šä¹‰å‘Šè­¦ï¼š

- **SatelliteOffline**: å«æ˜Ÿç¦»çº¿è¶…è¿‡5åˆ†é’Ÿ
- **HighTransferFailureRate**: æ–‡ä»¶ä¼ è¾“å¤±è´¥ç‡è¿‡é«˜
- **StorageSpaceLow**: å­˜å‚¨ç©ºé—´ä¸è¶³(>90%)
- **LongQueuedTransfers**: é˜Ÿåˆ—ä¸­ä¼ è¾“ä»»åŠ¡è¿‡å¤š
- **FileTransferTimeout**: æ–‡ä»¶ä¼ è¾“è€—æ—¶è¿‡é•¿

## æ–‡ä»¶ç±»å‹æ”¯æŒ

### é¢„ç½®æµ‹è¯•æ–‡ä»¶
- **é…ç½®æ–‡ä»¶**: config.json (å°æ–‡ä»¶, <1KB)
- **æ—¥å¿—æ–‡ä»¶**: system.log (ä¸­ç­‰æ–‡ä»¶, ~100KB)  
- **æ•°æ®æ–‡ä»¶**: sensor-data.csv (å¤§æ–‡ä»¶, ~10MB)
- **è½¯ä»¶åŒ…**: firmware-update.bin (è¶…å¤§æ–‡ä»¶, ~50MB)

### æ”¯æŒçš„æ“ä½œ
- **ä¸Šä¼ **: åœ°é¢ â†’ å«æ˜ŸèŠ‚ç‚¹
- **ä¸‹è½½**: å«æ˜ŸèŠ‚ç‚¹ â†’ åœ°é¢
- **åˆ é™¤**: åˆ é™¤å«æ˜ŸèŠ‚ç‚¹ä¸Šçš„æ–‡ä»¶
- **åˆ—è¡¨**: æŸ¥çœ‹å«æ˜ŸèŠ‚ç‚¹çš„æ–‡ä»¶æ¸…å•
- **åŒæ­¥**: å¤šèŠ‚ç‚¹é—´æ–‡ä»¶åŒæ­¥ (ä»…sat-01, sat-02)

## æ¼”ç¤ºåœºæ™¯

### åœºæ™¯1: å‘ç¦»çº¿å«æ˜Ÿä¸Šä¼ æ–‡ä»¶
1. é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶ (æµ‹è¯•æ–‡ä»¶: test-data.txt)
2. é€‰æ‹©ç›®æ ‡: sat-01/node-1 (å½“å‰ç¦»çº¿)
3. å‘èµ·ä¸Šä¼ ä»»åŠ¡ â†’ ä»»åŠ¡è¿›å…¥ç¦»çº¿é˜Ÿåˆ—
4. ç­‰å¾…å«æ˜Ÿä¸Šçº¿ â†’ è‡ªåŠ¨æ‰§è¡Œä¸Šä¼ 
5. éªŒè¯æ–‡ä»¶ä¸Šä¼ æˆåŠŸ

### åœºæ™¯2: ä»ç¦»çº¿å«æ˜Ÿä¸‹è½½æ–‡ä»¶
1. è¯·æ±‚ä¸‹è½½: sat-02/node-2/satellite-log.txt
2. å«æ˜Ÿå½“å‰ç¦»çº¿ â†’ è¯·æ±‚è¿›å…¥å¾…å¤„ç†é˜Ÿåˆ—
3. å«æ˜Ÿä¸Šçº¿åè‡ªåŠ¨å¤„ç†ä¸‹è½½è¯·æ±‚
4. æ”¯æŒå¤§æ–‡ä»¶çš„åˆ†ç‰‡ä¸‹è½½å’Œæ–­ç‚¹ç»­ä¼ 

### åœºæ™¯3: æ‰¹é‡æ–‡ä»¶æ“ä½œ
1. åŒæ—¶å‘å¤šä¸ªå«æ˜Ÿä¸Šä¼ é…ç½®æ–‡ä»¶
2. å¤§éƒ¨åˆ†å«æ˜Ÿç¦»çº¿ â†’ ä»»åŠ¡åˆ†åˆ«æ’é˜Ÿ
3. å«æ˜Ÿé™†ç»­ä¸Šçº¿ â†’ ä¾æ¬¡æ‰§è¡Œä»»åŠ¡
4. ç›‘æ§æ•´ä½“ä»»åŠ¡è¿›åº¦

### åœºæ™¯4: ç½‘ç»œä¸­æ–­æ¢å¤
1. ä¸Šä¼ å¤§æ–‡ä»¶è¿‡ç¨‹ä¸­æ¨¡æ‹Ÿç½‘ç»œä¸­æ–­
2. è¿æ¥æ¢å¤åè‡ªåŠ¨ä»æ–­ç‚¹ç»§ç»­
3. éªŒè¯æ–‡ä»¶å®Œæ•´æ€§å’Œä¼ è¾“æˆåŠŸ

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£å ç”¨**
   ```bash
   # æ£€æŸ¥ç«¯å£å ç”¨
   lsof -i :8082
   
   # åœæ­¢æ¼”ç¤º
   ./run-demo.sh stop
   ```

2. **å«æ˜Ÿä¸€ç›´ç¦»çº¿**
   ```bash
   # å¼ºåˆ¶å«æ˜Ÿä¸Šçº¿
   curl -X POST http://localhost:8082/api/satellites/sat-01/online
   
   # æˆ–ä½¿ç”¨å‘½ä»¤è¡Œ
   SGCSF> online sat-01
   ```

3. **ä¼ è¾“å¤±è´¥**
   ```bash
   # æŸ¥çœ‹ä¼ è¾“çŠ¶æ€
   curl http://localhost:8082/api/transfers
   
   # æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—
   tail -f logs/file-transfer-demo.log
   ```

4. **æ–‡ä»¶æ ¡éªŒå¤±è´¥**
   - æ£€æŸ¥æºæ–‡ä»¶æ˜¯å¦å®Œæ•´
   - éªŒè¯ç½‘ç»œè¿æ¥ç¨³å®šæ€§
   - é‡æ–°å¯åŠ¨ä¼ è¾“

### æ—¥å¿—ä½ç½®

- **åº”ç”¨æ—¥å¿—**: `logs/file-transfer-demo.log`
- **ä¼ è¾“æ—¥å¿—**: `logs/transfers/`
- **é”™è¯¯æ—¥å¿—**: `logs/errors/`

### æ€§èƒ½è°ƒä¼˜

1. **è°ƒæ•´å¹¶å‘æ•°**
   ```go
   maxConcurrentTransfers: 10  // é»˜è®¤5
   ```

2. **è°ƒæ•´åˆ†ç‰‡å¤§å°**
   ```go
   chunkSize: 2048 * 1024  // 2MB, é»˜è®¤1MB
   ```

3. **è°ƒæ•´ç¼“å†²åŒºå¤§å°**
   ```go
   bufferSize: 131072  // 128KB, é»˜è®¤64KB
   ```

## æŠ€æœ¯ç‰¹æ€§

### ç¦»çº¿æ¶ˆæ¯æŒä¹…åŒ–
- ä½¿ç”¨æœ¬åœ°é˜Ÿåˆ—å­˜å‚¨ç¦»çº¿æœŸé—´çš„ä¼ è¾“è¯·æ±‚
- æ”¯æŒè¯·æ±‚é‡è¯•å’Œè¶…æ—¶å¤„ç†
- è‡ªåŠ¨åœ¨å«æ˜Ÿä¸Šçº¿æ—¶æ‰§è¡Œæ’é˜Ÿçš„ä»»åŠ¡

### å¯é ä¼ è¾“ä¿éšœ
- åŸºäº SGCSF çš„æ¶ˆæ¯ç¡®è®¤æœºåˆ¶
- è‡ªåŠ¨é‡ä¼ ä¸¢å¤±çš„æ¶ˆæ¯åˆ†ç‰‡
- ç«¯åˆ°ç«¯çš„æ–‡ä»¶å®Œæ•´æ€§æ ¡éªŒ

### åˆ†ç‰‡ä¼ è¾“ä¼˜åŒ–
- è‡ªé€‚åº”åˆ†ç‰‡å¤§å°ï¼Œé€‚é…ç½‘ç»œæ¡ä»¶
- å¹¶è¡Œä¼ è¾“å¤šä¸ªåˆ†ç‰‡æé«˜æ•ˆç‡
- æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œç½‘ç»œä¸­æ–­åè‡ªåŠ¨æ¢å¤

### å­˜å‚¨ç®¡ç†
- æ™ºèƒ½å­˜å‚¨ç©ºé—´ç®¡ç†å’Œæ¸…ç†
- æ”¯æŒå­˜å‚¨é…é¢å’Œä½¿ç”¨ç»Ÿè®¡
- æ–‡ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†

## æ‰©å±•åŠŸèƒ½

### æ–‡ä»¶åŒæ­¥
åœ¨å¤šèŠ‚ç‚¹å«æ˜Ÿä¸Šå®ç°æ–‡ä»¶åŒæ­¥ï¼š

```bash
# åŒæ­¥ sat-01 çš„æ‰€æœ‰èŠ‚ç‚¹
curl -X POST http://localhost:8082/api/sync/satellite/sat-01

# åŒæ­¥ç‰¹å®šæ–‡ä»¶åˆ°æ‰€æœ‰èŠ‚ç‚¹
curl -X POST http://localhost:8082/api/sync/file \
  -d "file_path=config.json&target_satellites=sat-01,sat-02"
```

### æ–‡ä»¶ç‰ˆæœ¬ç®¡ç†
æ”¯æŒæ–‡ä»¶ç‰ˆæœ¬æ§åˆ¶å’Œå›æ»šï¼š

```bash
# æŸ¥çœ‹æ–‡ä»¶ç‰ˆæœ¬
curl http://localhost:8082/api/files/sat-01/node-1/config.json/versions

# å›æ»šåˆ°ç‰¹å®šç‰ˆæœ¬
curl -X POST http://localhost:8082/api/files/rollback \
  -d "file_path=config.json&satellite_id=sat-01&node_id=node-1&version=v1.0"
```

### æ‰¹é‡æ“ä½œ
æ”¯æŒæ‰¹é‡æ–‡ä»¶æ“ä½œï¼š

```bash
# æ‰¹é‡ä¸Šä¼ 
curl -X POST http://localhost:8082/api/batch/upload \
  -d '{"files": ["file1.txt", "file2.txt"], "targets": ["sat-01/node-1", "sat-02/node-1"]}'

# æ‰¹é‡ä¸‹è½½
curl -X POST http://localhost:8082/api/batch/download \
  -d '{"files": ["log1.txt", "log2.txt"], "sources": ["sat-01/node-1", "sat-02/node-1"]}'
```

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„æ–‡ä»¶ç±»å‹æ”¯æŒ

1. åœ¨ `FileMetadata` ä¸­æ·»åŠ æ–°å­—æ®µ
2. å®ç°ç‰¹å®šçš„åºåˆ—åŒ–/ååºåˆ—åŒ–é€»è¾‘
3. æ›´æ–° Web ç•Œé¢æ”¯æŒæ–°ç±»å‹

### è‡ªå®šä¹‰ä¼ è¾“ç­–ç•¥

1. å®ç° `TransferStrategy` æ¥å£
2. åœ¨ `GroundFileManager` ä¸­æ³¨å†Œæ–°ç­–ç•¥
3. é…ç½®ç­–ç•¥é€‰æ‹©é€»è¾‘

### æ·»åŠ æ–°çš„ç›‘æ§æŒ‡æ ‡

1. åœ¨ä»£ç ä¸­æ·»åŠ  Prometheus æŒ‡æ ‡
2. æ›´æ–° Grafana ä»ªè¡¨æ¿é…ç½®
3. æ·»åŠ ç›¸åº”çš„å‘Šè­¦è§„åˆ™

## è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/new-feature`)
3. æäº¤æ›´æ”¹ (`git commit -am 'Add new feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/new-feature`)
5. åˆ›å»º Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤ Issue: [GitHub Issues](https://github.com/sgcsf/sgcsf-go/issues)
- å‘é€é‚®ä»¶: support@sgcsf.org
- å‚ä¸è®¨è®º: [SGCSF Community](https://community.sgcsf.org)